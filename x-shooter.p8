pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
t=0

function _init()
	ship = {sp=1,x=60,y=60,h=3}
	bullets = {}
	enemies = {}
	for i=1,10 do 
	add(enemies, {
  sp=17,
  m_x=i*16,
  m_y=60-i*8,
  x=-32,
  y=-32,
  r=10
	})
	end
end

function fire()
 local b = {
 	sp=3,
 	x=ship.x,
 	y=ship.y-5,
 	dx=0,
 	dy=-3,
 }
 add(bullets, b)
end
 
 
function _update()
t=t+1

 for e in all(enemies) do
  e.x = e.r*sin(t/50) + e.m_x
  e.y = e.r*cos(t/50) + e.m_y
 
 end
 
 
 
	for b in all(bullets) do
	 b.x+=b.dx
	 b.y+=b.dy
	 if b.x < 0 or b.x > 128 or
	  b.y < 0 or b.y > 128 then
	  del(bullets, b)
	 end
	end
	if(t%8<4) then
	 ship.sp=2
	 else
	 ship.sp=1
	end
	if btn(0) then ship.x-=2 end
	if btn(1) then ship.x+=2 end
	if btn(2) then ship.y-=2 end
	if btn(3) then ship.y+=2 end
	if btnp(4) then fire() end
	
end
	 
function _draw()
	cls()
	print(#bullets,9)
 spr(ship.sp, ship.x,ship.y)
 for b in all(bullets) do
  spr (b.sp,b.x,b.y)
 end 
 for e in all(enemies) do
  spr(e.sp,e.x,e.y)
 end  
end

__gfx__
000000000003300000033000000cc000000000000000000080a0c0e0000000000000000000000000000000000000000000000000000000000000000000000000
000000000009900000099000000cc0000000000000000000171b1d7f000000000000000000000000000000000000000000000000000000000000000000000000
007007000093390000933900000cc0000000000000000000825775e2000000000000000000000000000000000000000000000000000000000000000000000000
000770000999999009999990000cc00000000000000000003957753f000000000000000000000000000000000000000000000000000000000000000000000000
000770009999999999999999000cc0000000000000000000847777e4000000000000000000000000000000000000000000000000000000000000000000000000
0070070099555599995555990000000000000000000000005977775f000000000000000000000000000000000000000000000000000000000000000000000000
00000000800550080805508000000000000000000000000087a6c676000000000000000000000000000000000000000000000000000000000000000000000000
000000000800008080000008000000000000000000000000797b7d7f000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000eee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000ee70e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000ee77e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000ee77e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000e0eee0e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000e00e000e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000e00e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000002020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
